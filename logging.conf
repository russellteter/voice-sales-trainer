# Voice Sales Trainer - Production Logging Configuration
# Comprehensive logging setup for production environment

[loggers]
keys=root,voice_sales_trainer,uvicorn,sqlalchemy,alembic,security,monitoring,voice_processing,auth,api

[handlers]
keys=console,file,error_file,rotating_file,syslog,structured_file,security_file,voice_file

[formatters]
keys=standard,detailed,json,security,voice,structured

# ================================
# LOGGERS
# ================================

[logger_root]
level=INFO
handlers=console,file,error_file
qualname=root
propagate=0

[logger_voice_sales_trainer]
level=INFO
handlers=console,rotating_file,structured_file
qualname=voice_sales_trainer
propagate=0

[logger_uvicorn]
level=INFO
handlers=console,file
qualname=uvicorn
propagate=0

[logger_sqlalchemy]
level=WARNING
handlers=file,structured_file
qualname=sqlalchemy.engine
propagate=0

[logger_alembic]
level=INFO
handlers=console,file
qualname=alembic
propagate=0

[logger_security]
level=WARNING
handlers=security_file,structured_file,syslog
qualname=voice_sales_trainer.config.security
propagate=0

[logger_monitoring]
level=INFO
handlers=rotating_file,structured_file
qualname=voice_sales_trainer.utils.monitoring
propagate=0

[logger_voice_processing]
level=INFO
handlers=voice_file,structured_file
qualname=voice_sales_trainer.api.voice
propagate=0

[logger_auth]
level=INFO
handlers=security_file,structured_file
qualname=voice_sales_trainer.api.auth
propagate=0

[logger_api]
level=INFO
handlers=rotating_file,structured_file
qualname=voice_sales_trainer.api
propagate=0

# ================================
# HANDLERS
# ================================

[handler_console]
class=StreamHandler
level=INFO
formatter=standard
args=(sys.stdout,)

[handler_file]
class=FileHandler
level=INFO
formatter=detailed
args=('./logs/application.log', 'a')

[handler_error_file]
class=FileHandler
level=ERROR
formatter=detailed
args=('./logs/error.log', 'a')

[handler_rotating_file]
class=handlers.RotatingFileHandler
level=INFO
formatter=detailed
args=('./logs/voice-sales-trainer.log', 'a', 50*1024*1024, 10, 'utf-8')

[handler_syslog]
class=handlers.SysLogHandler
level=WARNING
formatter=standard
args=('/dev/log', handlers.SysLogHandler.LOG_LOCAL0)

[handler_structured_file]
class=handlers.TimedRotatingFileHandler
level=INFO
formatter=json
args=('./logs/structured.log', 'midnight', 1, 30, 'utf-8')

[handler_security_file]
class=handlers.RotatingFileHandler
level=WARNING
formatter=security
args=('./logs/security.log', 'a', 100*1024*1024, 5, 'utf-8')

[handler_voice_file]
class=handlers.RotatingFileHandler
level=INFO
formatter=voice
args=('./logs/voice-processing.log', 'a', 100*1024*1024, 10, 'utf-8')

# ================================
# FORMATTERS
# ================================

[formatter_standard]
format=%(asctime)s [%(levelname)s] %(name)s: %(message)s
datefmt=%Y-%m-%d %H:%M:%S

[formatter_detailed]
format=%(asctime)s [%(levelname)s] %(name)s [%(filename)s:%(lineno)d] [PID:%(process)d TID:%(thread)d] - %(message)s
datefmt=%Y-%m-%d %H:%M:%S

[formatter_json]
format={"timestamp": "%(asctime)s", "level": "%(levelname)s", "logger": "%(name)s", "module": "%(module)s", "function": "%(funcName)s", "line": %(lineno)d, "process": %(process)d, "thread": %(thread)d, "message": "%(message)s"}
datefmt=%Y-%m-%dT%H:%M:%S

[formatter_security]
format=%(asctime)s [SECURITY] [%(levelname)s] %(name)s [%(filename)s:%(lineno)d] - %(message)s
datefmt=%Y-%m-%d %H:%M:%S

[formatter_voice]
format=%(asctime)s [VOICE] [%(levelname)s] %(name)s - %(message)s
datefmt=%Y-%m-%d %H:%M:%S

[formatter_structured]
format={"timestamp": "%(asctime)s", "service": "voice-sales-trainer", "environment": "production", "level": "%(levelname)s", "logger": "%(name)s", "module": "%(module)s", "function": "%(funcName)s", "line": %(lineno)d, "process": %(process)d, "thread": %(thread)d, "message": "%(message)s", "extra": {}}
datefmt=%Y-%m-%dT%H:%M:%SZ